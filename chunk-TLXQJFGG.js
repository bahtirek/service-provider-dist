import{a as J}from"./chunk-ZDK32Y7P.js";import"./chunk-OJXRLJM7.js";import"./chunk-B5SXJMOA.js";import{a as z}from"./chunk-3H2OTNLZ.js";import{a as _,b as K,c as Q}from"./chunk-BNXZA37R.js";import{a as B}from"./chunk-3QDBQQU5.js";import{a as G}from"./chunk-BXFS65BI.js";import"./chunk-AOEJRZ7Y.js";import{b as $,d as q,f as R,q as H}from"./chunk-DMLF7CN4.js";import{c as V,m as L,o as O}from"./chunk-VB3MO2AL.js";import{$ as x,$a as h,Ea as u,Ja as T,Ka as k,La as j,Ma as D,Na as M,Oa as n,Pa as r,Qa as C,Ra as E,T as m,V as f,Va as d,Wa as b,Xa as w,Ya as F,Z as I,_ as y,_a as l,bb as N,fb as g,ib as A,wa as a,za as S}from"./chunk-O2WMGYX5.js";import"./chunk-JMZ7DUBM.js";function Y(s,o){if(s&1&&(n(0,"li",9),l(1),r()),s&2){let v=o.$implicit;a(1),h(v==null?null:v.name)}}function Z(s,o){if(s&1&&(n(0,"li")(1,"div"),l(2),r(),n(3,"div"),l(4),r()()),s&2){let v=o.$implicit,e=b();a(2),h(v.weekDay),a(2),h(e.providerProfileDetails.workHours)}}var U=(()=>{let o=class o{constructor(){this.auth=m(B),this.providerDetails={},this.providerProfileDetails={}}set provider(e){this.providerDetails=e,console.log(this.providerDetails)}set providerProfile(e){this.providerProfileDetails=e}ngOnInit(){this.checkIfClient()}ngOnChanges(e){console.log(e),console.log(this.providerProfileDetails)}checkIfClient(){this.auth.user()?.user?.isClient}cardClicked(){}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=f({type:o,selectors:[["app-provider-details"]],inputs:{provider:"provider",providerProfile:"providerProfile"},standalone:!0,features:[I,g],decls:42,vars:6,consts:[[1,"card","provider-card",3,"click"],[1,"reset"],[1,"flex"],[1,"text-bold","mr-md","flex"],[1,"material-symbols-outlined"],[1,"flex","no-wrap"],[1,"material-symbols-outlined","mb-auto"],[1,"ml-xxl","mt-xs","mb-md"],[1,"work-hours-list"],[1,"pa-none"],["class","pa-none"]],template:function(t,i){t&1&&(n(0,"div",0),d("click",function(){return i.cardClicked()}),n(1,"ul",1)(2,"li",2)(3,"div",3)(4,"span",4),l(5,"badge"),r()(),n(6,"div"),l(7),r()(),n(8,"li",2)(9,"div",3)(10,"span",4),l(11,"email"),r()(),n(12,"div"),l(13),r()(),n(14,"li",2)(15,"div",3)(16,"span",4),l(17,"phone"),r()(),n(18,"div"),l(19),r()(),n(20,"li",2)(21,"div",3)(22,"span",4),l(23,"home_pin"),r()(),n(24,"div"),l(25),r()(),n(26,"li",5)(27,"div",3)(28,"span",6),l(29,"info"),r()(),n(30,"div"),l(31),r()()(),n(32,"ul",7),D(33,Y,2,1,"li",10,j),r(),n(35,"div",5)(36,"div",3)(37,"span",4),l(38,"calendar_month"),r()(),n(39,"ul",8),D(40,Z,5,2,"li",null,j),r()()()),t&2&&(a(7),N("",i.providerProfileDetails.firstName," ",i.providerProfileDetails.lastName,""),a(6),h(i.providerProfileDetails.email),a(6),h(i.providerProfileDetails.phoneNumber),a(6),h(i.providerProfileDetails.address),a(6),h(i.providerProfileDetails.description),a(2),M(i.providerProfileDetails.category),a(7),M(i.providerProfileDetails.availableDays))}});let s=o;return s})();var ee=(s,o)=>({"fade-anim":s,in:o});function te(s,o){if(s&1){let v=E();n(0,"div",1)(1,"div",2)(2,"span",3),d("click",function(){y(v);let t=b();return x(t.closeModal())}),l(3,"close"),r(),F(4),r()()}if(s&2){let v=b();u("ngClass",A(1,ee,v.fadeAnim,v.fadeIn))}}var ie=["*"],W=(()=>{let o=class o{constructor(){this.modalValue=!1,this.fadeAnim=!1,this.fadeIn=!1,this.modalChange=new S}get modal(){return this.modalValue}set modal(e){e?(this.fadeAnim=!0,setTimeout(()=>{this.fadeIn=!0})):(this.fadeIn=!1,setTimeout(()=>{this.fadeAnim=!1})),this.modalValue=e,this.modalChange.emit(this.modalValue)}closeModal(){this.modal=!1}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=f({type:o,selectors:[["app-modal"]],inputs:{modal:"modal"},outputs:{modalChange:"modalChange"},standalone:!0,features:[g],ngContentSelectors:ie,decls:1,vars:1,consts:[["role","dialog","class","modal",3,"ngClass"],["role","dialog",1,"modal",3,"ngClass"],[1,"modal-content"],[1,"material-symbols-outlined","modal-close",3,"click"]],template:function(t,i){t&1&&(w(),T(0,te,5,4,"div",0)),t&2&&k(0,i.modalValue?0:-1)},dependencies:[V]});let s=o;return s})();var X=(()=>{let o=class o{constructor(){this.subjectService=m(_),this.sessionTitle="",this.errorMessage="",this.validationStarted=!1,this.subjectDetails={},this.cancel=new S,this.openSession=new S}set toggleModal(e){e||(this.sessionTitle="")}createSession(){let e=this.sessionTitle.trim();if(!e){this.errorMessage="Field required",this.validationStarted=!0;return}this.subjectDetails.title=e,this.subjectService.createSubject(this.subjectDetails).subscribe({next:t=>{t.subjectId&&this.openSession.emit(t.subjectId),this.sessionTitle=""},error:t=>{console.log(t)}})}onModelChange(e){!e.trim()&&this.validationStarted?this.errorMessage="Field required":this.errorMessage=""}onCancel(){this.sessionTitle="",this.cancel.emit()}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=f({type:o,selectors:[["app-new-subject"]],inputs:{subjectDetails:"subjectDetails",toggleModal:"toggleModal"},outputs:{cancel:"cancel",openSession:"openSession"},standalone:!0,features:[g],decls:8,vars:2,consts:[[1,"form-element","mt-lg"],["for","sessionTitle"],["type","text","id","sessionTitle",3,"ngModel","ngModelChange"],[3,"message"],[1,"block","ml-auto",3,"click"]],template:function(t,i){t&1&&(n(0,"div")(1,"div",0)(2,"label",1),l(3,"Session Title"),r(),n(4,"input",2),d("ngModelChange",function(p){return i.sessionTitle=p})("ngModelChange",function(p){return i.onModelChange(p)}),r(),C(5,"app-form-error",3),r(),n(6,"button",4),d("click",function(){return i.createSession()}),l(7,"Submit"),r()()),t&2&&(a(4),u("ngModel",i.sessionTitle),a(1),u("message",i.errorMessage))},dependencies:[z,H,$,q,R]});let s=o;return s})();var Ve=(()=>{let o=class o{constructor(){this.route=m(L),this.router=m(O),this.providerService=m(G),this.subjectService=m(_),this.navigation=m(Q),this.showFullDetails=!0,this.providerProfileDetails={},this.providerDetails={},this.providerId="",this.toggleModal=!1,this.subjectDetails={},this.subjectList=[],this.displayAsCard=!1}ngOnInit(){this.getProviderDetails()}createSession(){this.toggleModal=!0;let e=parseInt(this.providerId);this.subjectDetails={title:"",providerId:e}}getProviderDetails(){let e=this.providerService.getProvider();e||this.navigation.back(),this.providerId=e.providerId,this.providerService.getProviderProfileDetailsById(this.providerId).subscribe({next:t=>{this.providerProfileDetails=t,this.getClientProviderId()},error:t=>{console.log(t)}})}getClientProviderId(){let t=this.providerService.myProviders.find(i=>i.providerId==parseInt(this.providerId));if(t?.clientProviderId){this.getSubjects(t?.clientProviderId);return}this.providerService.getMyProviders().subscribe({next:i=>{let c=i.find(p=>p.providerId==parseInt(this.providerId));c?.clientProviderId&&this.getSubjects(c?.clientProviderId)},error:i=>{console.log(i)}})}openSession(e){this.cancel(),this.router.navigate([`client/messages/${e}`])}getSubjects(e){this.subjectService.getProviderSubjects(e).subscribe({next:t=>{this.subjectList=t},error:t=>{console.log(t)}})}onSubjectClick(e){this.subjectService.saveSubjectToLocal(e),this.router.navigate(["./messages"],{relativeTo:this.route})}navigateToDashboard(){this.router.navigate(["client/dashboard"])}cancel(){this.toggleModal=!1}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=f({type:o,selectors:[["app-my-provider"]],standalone:!0,features:[g],decls:9,vars:6,consts:[[1,"container","container-md"],[1,"flex","column","gap-xl"],[3,"providerProfile"],[1,"ml-auto",3,"click"],[3,"subjectList","displayAsCard","onSubjectClick$"],[3,"modal","modalChange"],[3,"subjectDetails","toggleModal","cancel","openSession"]],template:function(t,i){t&1&&(n(0,"div",0),C(1,"app-back-button"),n(2,"div",1),C(3,"app-provider-details",2),n(4,"button",3),d("click",function(){return i.createSession()}),l(5,"Start session"),r(),n(6,"app-subject-list",4),d("onSubjectClick$",function(p){return i.onSubjectClick(p)}),r()()(),n(7,"app-modal",5),d("modalChange",function(p){return i.toggleModal=p}),n(8,"app-new-subject",6),d("cancel",function(){return i.cancel()})("openSession",function(p){return i.openSession(p)}),r()()),t&2&&(a(3),u("providerProfile",i.providerProfileDetails),a(3),u("subjectList",i.subjectList)("displayAsCard",i.displayAsCard),a(1),u("modal",i.toggleModal),a(1),u("subjectDetails",i.subjectDetails)("toggleModal",i.toggleModal))},dependencies:[U,W,X,J,K]});let s=o;return s})();export{Ve as MyProviderComponent};
