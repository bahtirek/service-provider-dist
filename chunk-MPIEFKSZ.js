import{a as f}from"./chunk-HZN2YKLW.js";import"./chunk-IMBAXUM4.js";import{a as v}from"./chunk-XCYL4QET.js";import{a as C,b as g}from"./chunk-LK5WJ2EN.js";import{a as j}from"./chunk-VSMVFW52.js";import"./chunk-Y6NGLBTQ.js";import{n as S,p as h}from"./chunk-KZEZHTV3.js";import{Fa as l,Qa as o,Ra as b,Sa as p,T as i,V as a,Xa as m,a as r,hb as d,xa as u}from"./chunk-TMRUMUQV.js";import"./chunk-JMZ7DUBM.js";var O=(()=>{let e=class e{constructor(){this.route=i(S),this.router=i(h),this.clientService=i(v),this.subjectService=i(j),this.navigation=i(g),this._subscription=new r,this.subjectList=[],this.displayAsCard=!1,this.clientDetails={}}ngOnInit(){this.getSubjects(),this._subscription.add(this.subjectService.newSubjectsSource.subscribe(()=>{this.getSubjects()}))}ngOnDestroy(){this._subscription.unsubscribe()}getSubjects(){this.clientDetails=this.clientService.getClient(),this.clientDetails.clientId||this.navigation.back(),this.subjectService.getClientSubjectsAPI(this.clientDetails.clientId).subscribe({next:t=>{this.subjectList=t,this.subjectService.subjects=t},error:t=>{console.log(t)}})}onSubjectClick(t){this.subjectService.saveSubjectToLocal(t),this.router.navigate(["./messages"],{relativeTo:this.route})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=a({type:e,selectors:[["app-my-client"]],standalone:!0,features:[d],decls:4,vars:2,consts:[[1,"container","container-md"],[1,"flex","column"],[3,"subjectList","displayAsCard","onSubjectClick$"]],template:function(s,c){s&1&&(o(0,"div",0),p(1,"app-back-button"),o(2,"div",1)(3,"app-subject-list",2),m("onSubjectClick$",function(y){return c.onSubjectClick(y)}),b()()()),s&2&&(u(3),l("subjectList",c.subjectList)("displayAsCard",c.displayAsCard))},dependencies:[C,f]});let n=e;return n})();export{O as MyClientComponent};
