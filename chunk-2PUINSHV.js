import{a as M}from"./chunk-E7IIHPGD.js";import{a as $}from"./chunk-OJXRLJM7.js";import{a as K}from"./chunk-3H2OTNLZ.js";import{a as G}from"./chunk-BXFS65BI.js";import{b as P,d as _,f as k,m as T,n as O,o as V,q as F}from"./chunk-DMLF7CN4.js";import{$ as b,$a as D,Ea as l,La as C,Ma as f,Na as S,Oa as n,Pa as a,Qa as E,Ra as x,T as v,V as u,Va as d,Wa as N,Za as w,_ as I,_a as p,fb as h,wa as s,za as y}from"./chunk-O2WMGYX5.js";function B(i,t){if(i&1&&(n(0,"option",5),p(1),a()),i&2){let g=t.$implicit;w("value",g.lkCategoryId),s(1),D(g.name)}}var L=(()=>{let t=class t{constructor(){this.providerService=v(M),this.allCategorys=[],this.category=null,this.nullValue=null,this.onCategorySelect=new y}ngOnInit(){this.getCategory()}set category$(e){e&&e>0&&(this.category=e)}getCategory(){this.allCategorys=this.providerService.allCategorys,console.log(this.allCategorys),!(this.allCategorys&&this.allCategorys.length>0)&&this.providerService.getCategory().subscribe({next:e=>{this.allCategorys=e,this.providerService.allCategorys=e},error:e=>{console.log(e)}})}onSelect(e){e&&this.onCategorySelect.emit(e)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=u({type:t,selectors:[["app-category-select"]],inputs:{category$:"category$"},outputs:{onCategorySelect:"onCategorySelect"},standalone:!0,features:[h],decls:10,vars:3,consts:[[1,"form-element"],[3,"ngModel","ngModelChange"],["selected","","disabled","",3,"value"],["selected","",3,"value"],["for","toWorkHourId"],[3,"value"]],template:function(o,r){o&1&&(n(0,"div",0)(1,"select",1),d("ngModelChange",function(m){return r.category=m})("ngModelChange",function(m){return r.onSelect(m)}),n(2,"option",2),p(3,"Choose category"),a(),f(4,B,2,2,"option",5,C),n(6,"option",3),p(7,"All categories"),a()(),n(8,"label",4),p(9,"Service Category"),a()()),o&2&&(s(1),l("ngModel",r.category),s(1),l("value",r.nullValue),s(2),S(r.allCategorys),s(2),l("value",r.nullValue))},dependencies:[F,O,V,T,_,k]});let i=t;return i})();var le=(()=>{let t=class t{constructor(){this.providerService=v(G),this.searchKeyword="",this.errorMessage="",this.category=null,this.foundProviders=new y}ngOnInit(){this.setSearchDetailsIsExists()}searchProviders(){let e=null,o=this.searchKeyword.trim();if(!o&&this.category=="null")return;this.category&&(e=parseInt(this.category));let r={lkCategoryId:parseInt(this.category),searchKeyword:o};this.providerService.providerSearch(r).subscribe({next:c=>{this.foundProviders.emit({providers:c,searchDetails:r})},error:c=>{console.log(c)}})}setSearchDetailsIsExists(){this.providerService.searchDetails&&(this.searchKeyword=this.providerService?.searchDetails?.searchKeyword,this.category=this.providerService?.searchDetails?.lkCategoryId,this.providerService.searchDetails.searchKeyword="",this.providerService.searchDetails.lkCategoryId=null)}onCategorySelect(e){this.category=e}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=u({type:t,selectors:[["app-provider-search"]],outputs:{foundProviders:"foundProviders"},standalone:!0,features:[h],decls:11,vars:3,consts:[[1,"flex"],[1,"form-element","col-grow-2","mr-lg"],["for","companyName"],["type","text","id","companyName",3,"ngModel","ngModelChange"],[3,"message"],[1,"mr-lg"],[3,"category$","onCategorySelect"],[3,"click"]],template:function(o,r){o&1&&(n(0,"div")(1,"div",0)(2,"div",1)(3,"label",2),p(4,"Provider & Service Search"),a(),n(5,"input",3),d("ngModelChange",function(m){return r.searchKeyword=m}),a(),E(6,"app-form-error",4),a(),n(7,"div",5)(8,"app-category-select",6),d("onCategorySelect",function(m){return r.onCategorySelect(m)}),a()(),n(9,"button",7),d("click",function(){return r.searchProviders()}),p(10,"Search"),a()()()),o&2&&(s(5),l("ngModel",r.searchKeyword),s(1),l("message",r.errorMessage),s(2),l("category$",r.category))},dependencies:[K,F,P,_,k,L]});let i=t;return i})();function H(i,t){if(i&1){let g=x();n(0,"app-provider-card",1),d("cardClickled",function(o){I(g);let r=N();return b(r.cardClicked(o))}),a()}if(i&2){let g=t.$implicit;l("provider",g)}}var ye=(()=>{let t=class t{constructor(){this.providerList=[],this.cardClickled=new y}set providers(e){this.providerList=e}cardClicked(e){this.cardClickled.emit(e)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=u({type:t,selectors:[["app-provider-list"]],inputs:{providers:"providers"},outputs:{cardClickled:"cardClickled"},standalone:!0,features:[h],decls:3,vars:0,consts:[[1,"container","column","gap-xl"],[3,"provider","cardClickled"],[3,"provider"]],template:function(o,r){o&1&&(n(0,"div",0),f(1,H,1,1,"app-provider-card",2,C),a()),o&2&&(s(1),S(r.providerList))},dependencies:[$]});let i=t;return i})();export{le as a,ye as b};
